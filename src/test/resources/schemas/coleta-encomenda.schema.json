{
  "$id": "https://fiap.fase4.com/schemas/coleta-encomenda.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Coleta de Encomenda",
  "description": "Esquema JSON para registro de coleta de encomenda por morador. O campo 'cpfMoradorColeta' possui índice no banco de dados para consultas rápidas.",
  "type": "object",
  "properties": {
    "id": {
      "description": "Identificador único da coleta (UUID gerado automaticamente)",
      "type": ["string", "null"],
      "format": "uuid",
      "examples": ["3fa85f64-5717-4562-b3fc-2c963f66afa6"]
    },
    "recebimentoEncomendaId": {
      "description": "ID do recebimento da encomenda (relacionamento com outra entidade)",
      "type": "string",
      "format": "uuid",
      "examples": ["a1b2c3d4-e5f6-7890-g1h2-i3j4k5l6m7n8"]
    },
    "cpfMoradorColeta": {
      "description": "CPF do morador que coletou a encomenda (11 dígitos numéricos)",
      "type": "string",
      "pattern": "^\\d{11}$",
      "minLength": 11,
      "maxLength": 11,
      "examples": ["12345678901"]
    },
    "nomeMoradorColeta": {
      "description": "Nome completo do morador que coletou",
      "type": "string",
      "minLength": 1,
      "maxLength": 100,
      "examples": ["João Silva"]
    },
    "dataColeta": {
      "description": "Data e hora da coleta no formato ISO 8601 com offset (ex: 2025-04-05T10:30:00.000-03:00)",
      "type": "string",
      "format": "date-time",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(Z|[+-]\\d{2}:\\d{2})$",
      "examples": ["2025-04-05T10:30:00.000-03:00"]
    }
  },
  "required": [
    "recebimentoEncomendaId",
    "cpfMoradorColeta",
    "nomeMoradorColeta",
    "dataColeta"
  ],
  "additionalProperties": false,
  "examples": [
    {
      "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
      "recebimentoEncomendaId": "a1b2c3d4-e5f6-7890-g1h2-i3j4k5l6m7n8",
      "cpfMoradorColeta": "12345678901",
      "nomeMoradorColeta": "Maria Oliveira",
      "dataColeta": "2025-04-05T14:22:10.123-03:00"
    }
  ],
  "$comment": "Índice no banco: idx_cpf_morador_coleta (cpfMoradorColeta). Não é validável no JSON Schema."
}